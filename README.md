# operating system
- 컴퓨터에 포함된 CPU나 메모리, 입출력 기기 등이 사용자의 기대에 맞게 역할을 수행할 수 있도록 도와주는 창구 역할을 하는 시스템 소프트웨어
- 역할:
    - 프로세스 관리
    - 메모리 관리
    - 파일 시스템 관리

# Hardware
###  CPU의 구성요소
- ALU(Arithmetic and logical unit): 산술연산과 논리연산을 담당하는 회로 
- CU(Control Unit): 명령어를 해석하고 이를 실행하기 위한 제어 신호들을 순차적으로 발생시킴
- Register: 데이러를 처리하기 위한 CPU내부의 임시저장장치로 엑세스 속도가 컴퓨터의 기억장치들 중 가장 빠름

### 메인메모리 : RAM(Random Access Memory) 
- 프로그램의 실행파일이 올라가서 실행되는 영역
- 프로세스 관리


### bus system: 
- 데이터를 주고 받기 위해 사용되는 경로
- Data Bus : 데이터 이동을 위해 필요한 버스
- Control Bus : CPU가 원하는 바를 메모리에 전달하기 위한 버스
- Address Bus : 주소값을 이동하기 위해 필요한 버스


# clock pulse

# 프로그램 실행 과정
### 폰 노이만 구조

- 프로그램 코드 -> 어셈블리 코드 -> 바이너리 코드
- 컴파일러 거쳐 실행파일이 만들어짐 -> 메모리(RAM)에 올라감 -> CPU에 의해 명령어가 순차적으로 실행(1. Fetch: 메모리상의 명령어를 CPU로 가져온다(instrurctor register). 2. Decode: 가져온 명령어를 해석(CU 가 수행), 3. 실행: ALU가 수행)

### Interrupt
- CPU가 어떤 작업을 수행하고 있을때 CPU의 작업을 방해하는 신호
- 정상적으로 수행할 수 없는 명령어가 입력되면, CPU는 인터럽트를 발생시키며, 이를 예외(Exception)라고 부른다.
- 입출력장치(hardware)로부터 발생하는 인터럽트는 비동기 인터럽트라고 불리기도 함


# 프로세스
- 실행중인 프로그램을 뜻함
- 프로그램을 더블클릭하면 운영체제는 필요한 지원을 할당, 관리하기 시작

## 프로세스 구조
- 명령어가 담긴 code 영억
- 전역변수 등(static, global variables)이 담긴 data 영역
- 지역변수 등(local variable)이 담긴 stack 영역
- 동정 메모리 할당을 위한 heap 영역
- 프로그램의 실행을 위해서는 절대적으로 CPU의 레지스터가 필요함

## process control block (PCB)
- cpu는 한번에 하나의 연산만 수행할 수 있다.
- cpu는 여러개의 프로세스를 동시에 실행하지 않고, 빠르게 번갈아 가며 실행한다.
- 운영체제는 프로세스 컨트롤 블록(PCB)를 만들어 관리
- 여기에는 프로세스 식별을 위해 필요한 정보를 저장(프로세스 ID, 레이스터 데이터, 스케줄링 정보, 상태 등)

## context switching
- 다른 프로세스를 실행하기 위해 실행중인 프로세스를 저장하고 다른 프로세스 데이터로 교체하는 작업

## 프로세스 생성
- 프로그램 실행 시, 운영체제는 코드 영역과 데이터 영역을 메인메모리에 올리고 빈 스택과 빈 힙을 만들어 공간을 확보한다. 이는 부담이 되는 작업
- 새로운 프로세스 생성보다 기존 프로세스를 복사하는 것이 더 빠르다. 따라서 모든 프로세스는 최초의 프로세스로부터 복사된다. 이 과정을 fork() - 시스템함수의 일종
- 복사 후 자식프로세스는 코드영역과 데이터영역을 자신의 데이터로 덮어쓰는 작업을 진행 (exec())

## Thread
- 컨텍스트 스위칭으로 인한 부하를 줄이기 위해선 프로세스를 줄여야한다.
- 프로세스 안에서 thread를 만들어서 작업을 나누어 처리할 수 있다. 
- 동일한 프로세스 안에서 생성된 thread끼리는 코드영역, 데이터영역, 힙영역을 서로 공유한다.
- 단, thread는 스택영역(지역변수, 매개변수 저장)은 각자 하나씩 생성한다. 
- 스레드는 프로세스가 처리해야할 작업을 수행하기 위해 존재하는 것이므로, 코드 영역을 공유해 명령어에 접근할 수 있어야함
- 명령어 실행시 전역변수, 정적변수 등의 데이터에 접근해야 하므로 데이터영역과 힙 영역도 공유

## CPU의 스케줄링
- 여러개의 프로세스를 빠르게 번갈아 실행하기 위해, 각 프로세스가 동작하는 시간을 조금씩 나누어 배분한다. 
- 어떤 프로세스에(who), 얼마동안(how long) 할당할 것인가? 
- 프로세스 별로 요구하는 자원이 상이하기 때문에, 운영체제는 프로세스마다 우선순위를 부여하고 이를 기준으로 프로세스 실행
- 우선순위 높은 것들을 더 빨리, 더 자주 실행한다.
- 우선순위가 같은 프로세스들도 존재
